import{d as j,r as i,o as I,a as z,c as w,b as h,e,t as l,f as G,w as H,g as a,h as k,I as f,v as V,i as F,_ as v,F as S,j as M,n as y,k as K,l as R,m as O,p as c,q as Q}from"./index-DKFe7n0M.js";const Y={class:"portal"},W={class:"container-fluid portal-shell"},A={class:"portal-center"},J={class:"portal-hero"},P={class:"portal-clock"},X={class:"clock-time"},Z={class:"clock-date"},ee={class:"portal-search"},te={class:"search-inner"},ne={class:"search-engine-wrap"},oe=["onKeydown"],se=["title","onClick"],ie={class:"engine-tile-ico"},ae={class:"engine-tile-text"},le={type:"button",class:"engine-tile",title:"添加",tabindex:"-1"},ce={class:"engine-tile-ico"},re={class:"metrics"},de={class:"metric-k mb-2"},ue={class:"metric-v"},ve={class:"quote-mini-ico"},me={class:"quote-mini-text"},he=["disabled"],_e=j({__name:"index",setup(ge){const T=[{to:"/resources",title:"资源搜索",desc:"网盘/资源聚合搜索，支持分类、排序与热榜。",icon:"ri-search-line",iconName:"sousuo_huaban1",badge:"NEW",accent:"blue"},{to:"/wallpapers",title:"壁纸搜索",desc:"发现高清壁纸，支持筛选、收藏与详情预览。",icon:"ri-image-line",iconName:"wallpaper",accent:"purple"},{to:"/music",title:"音乐搜索",desc:"搜索歌曲并用播放器试听，支持 SQ/HQ 展示与下载。",icon:"ri-music-2-line",iconName:"yinle",badge:"HOT",accent:"green"},{to:"/video",title:"视频解析",desc:"单条/批量解析视频链接，快速播放与下载。",icon:"ri-video-line",iconName:"shipinjiexi",accent:"orange"}],_=i(new Date);let g;I(()=>{g=window.setInterval(()=>{_.value=new Date},1e3)}),z(()=>{g&&window.clearInterval(g)});const U=w(()=>{const t=_.value,n=String(t.getHours()).padStart(2,"0"),u=String(t.getMinutes()).padStart(2,"0");return`${n}:${u}`}),D=w(()=>{const t=_.value,n=t.getFullYear(),u=t.getMonth()+1,o=t.getDate(),E=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][t.getDay()];return`${n}年${u}月${o}日${E}`}),p=i(""),x=()=>{const t=p.value.trim();if(!t)return;const n=s.value==="baidu"?`https://www.baidu.com/s?wd=${encodeURIComponent(t)}`:s.value==="google"?`https://www.google.com/search?q=${encodeURIComponent(t)}`:s.value==="bing"?`https://www.bing.com/search?q=${encodeURIComponent(t)}`:s.value==="github"?`https://github.com/search?q=${encodeURIComponent(t)}`:`https://yandex.com/search/?text=${encodeURIComponent(t)}`;window.open(n,"_blank","noopener,noreferrer")},s=i("baidu"),b=[{value:"baidu",label:"百度",iconName:"baidu"},{value:"google",label:"Google",iconName:"guge"},{value:"bing",label:"Bing",iconName:"bing"},{value:"github",label:"GitHub",iconName:"github"},{value:"yandex",label:"Yandex",iconName:"yandex"}],C=w(()=>b.find(t=>t.value===s.value)??b[0]),r=i(!1),L=()=>{r.value=!r.value},B=t=>{s.value=t,r.value=!1},N=t=>{const n=t.target;n&&(n.closest(".portal-search")||(r.value=!1))},m=i(null),d=i(!1),$=i(!1),q=async()=>{d.value=!0,$.value=!1;try{const t=await fetch("https://v1.hitokoto.cn/?encode=json",{method:"GET"});if(!t.ok)throw new Error("hitokoto_fetch_failed");const n=await t.json();if(!n?.hitokoto)throw new Error("hitokoto_invalid_payload");m.value=n}catch{$.value=!0,m.value||(m.value={hitokoto:"保持好奇，保持热爱。",from:"Cloud Tools",from_who:null})}finally{d.value=!1}};return I(()=>{q(),window.addEventListener("click",N)}),z(()=>{window.removeEventListener("click",N)}),(t,n)=>{const u=O("RouterLink");return c(),h("div",Y,[e("div",W,[e("div",A,[e("div",J,[n[2]||(n[2]=e("div",{class:"portal-title"},"Cloud Tools",-1)),e("div",P,[e("div",X,l(U.value),1),e("div",Z,l(D.value),1)])]),e("div",ee,[e("div",te,[e("div",ne,[e("div",null,[a(f,{title:`搜索引擎：${C.value.label}`,onClick:k(L,["stop"]),class:"engine-icon",name:C.value.iconName,size:20},null,8,["title","name"])])]),H(e("input",{"onUpdate:modelValue":n[0]||(n[0]=o=>p.value=o),class:"search-input",placeholder:"搜索网盘云音乐...",onKeydown:F(k(x,["prevent"]),["enter"])},null,40,oe),[[V,p.value]]),n[3]||(n[3]=e("i",{class:"iconfont icon-wangluo"},null,-1)),e("button",{type:"button",class:"search-btn",title:"搜索",onClick:x},[a(v,{name:"ri-search-line",size:16})])]),r.value?(c(),h("div",{key:0,class:"engine-panel",onClick:n[1]||(n[1]=k(()=>{},["stop"]))},[(c(),h(S,null,M(b,o=>e("button",{key:o.value,type:"button",class:y(["engine-tile",o.value===s.value?"is-active":""]),title:o.label,onClick:E=>B(o.value)},[e("div",ie,[a(f,{name:o.iconName,size:18},null,8,["name"])]),e("div",ae,l(o.label),1)],10,se)),64)),e("button",le,[e("div",ce,[a(v,{name:"ri-add-line",size:18})]),n[4]||(n[4]=e("div",{class:"engine-tile-text"},"添加",-1))])])):G("",!0)]),e("div",re,[(c(),h(S,null,M(T,o=>a(u,{key:o.to,class:"metric metric-link",to:o.to},{default:K(()=>[e("div",de,l(o.title),1),e("div",ue,l(o.desc),1),e("div",{class:y(["metric-ico",o.accent?`accent-${o.accent}`:""])},[o.iconName?(c(),R(f,{key:0,name:o.iconName,size:16},null,8,["name"])):(c(),R(v,{key:1,name:o.icon,size:16},null,8,["name"]))],2)]),_:2},1032,["to"])),64))])]),e("div",{class:y(["quote-mini",d.value?"is-loading":""])},[e("div",ve,[a(v,{name:"ri-double-quotes-l",size:16})]),e("div",me,l(d.value?"获取中...":m.value?.hitokoto),1),e("button",{type:"button",class:"quote-mini-btn",disabled:d.value,title:"换一句",onClick:q},[a(v,{name:"ri-refresh-line",size:16})],8,he)],2)])])}}}),be=Q(_e,[["__scopeId","data-v-f45d6752"]]);export{be as default};
